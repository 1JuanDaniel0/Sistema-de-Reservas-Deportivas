<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notificaci√≥n de Reserva</title>
    <style>
        body { margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .container { max-width: 600px; margin: 0 auto; background: #ffffff; }
        .header { background: linear-gradient(135deg, #004ba0 0%, #0066cc 100%); padding: 30px 20px; text-align: center; }
        .logo { max-height: 80px; margin-bottom: 10px; }
        .content { padding: 40px 30px; }
        .title { color: #004ba0; font-size: 24px; font-weight: bold; margin-bottom: 20px; text-align: center; }
        .greeting { font-size: 16px; margin-bottom: 20px; color: #333; }
        .reservation-card { background: #f8f9fa; border-left: 4px solid #004ba0; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .detail-row { display: flex; justify-content: space-between; margin: 10px 0; padding: 8px 0; border-bottom: 1px solid #eee; }
        .detail-label { font-weight: bold; color: #555; }
        .detail-value { color: #333; }
        .status-badge { display: inline-block; padding: 6px 12px; border-radius: 20px; font-size: 14px; font-weight: bold; }
        .status-confirmed { background: #d4edda; color: #155724; }
        .status-pending { background: #fff3cd; color: #856404; }
        .status-cancelled { background: #f8d7da; color: #721c24; }
        .payment-section { background: #e3f2fd; border: 1px solid #bbdefb; border-radius: 8px; padding: 20px; margin: 20px 0; }
        .payment-title { color: #1976d2; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; }
        .payment-icon { width: 24px; height: 24px; margin-right: 10px; }
        .account-info { background: #1976d2; color: white; padding: 15px; border-radius: 6px; margin: 10px 0; }
        .account-row { display: flex; justify-content: space-between; margin: 8px 0; }
        .account-row:last-child { border-top: 1px solid rgba(255,255,255,0.3); padding-top: 8px; margin-top: 12px; }
        .btn-primary { display: inline-block; background: #004ba0; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; font-weight: bold; margin: 15px 0; }
        .btn-primary:hover { background: #003875; }
        .important-note { background: #fff3e0; border: 1px solid #ffcc02; border-radius: 6px; padding: 15px; margin: 20px 0; }
        .important-note-title { color: #f57c00; font-weight: bold; margin-bottom: 8px; }
        .footer { background: #f5f5f5; padding: 20px; text-align: center; color: #666; font-size: 14px; }
        .social-links { margin: 15px 0; }
        .social-links a { color: #004ba0; text-decoration: none; margin: 0 10px; }
        @media (max-width: 600px) {
            .content { padding: 20px 15px; }
            .detail-row { flex-direction: column; }
            .detail-label { margin-bottom: 5px; }
            .account-row { flex-direction: column; }
        }
    </style>
</head>
<body>
<div class="container">
    <!-- Header -->
    <div class="header">
        <img src="https://almacenamiento-aplicacion-archivos.s3.us-east-1.amazonaws.com/publica/estaticos/logo-sanM.png"
             alt="Logo Municipalidad de San Miguel" class="logo" />
        <div style="color: white; font-size: 18px; margin-top: 10px;">Municipalidad de San Miguel</div>
        <div style="color: rgba(255,255,255,0.9); font-size: 14px;">Servicios Deportivos</div>
    </div>

    <!-- Content -->
    <div class="content">
        <h1 class="title" th:style="'color:' + ${color}">[[${titulo}]]</h1>

        <p class="greeting">Estimado(a) <strong>[[${nombre}]]</strong>,</p>

        <p style="font-size: 16px; line-height: 1.6; color: #333;">
            Le informamos que su reserva ha sido <strong style="color: #004ba0;">[[${accion}]]</strong> exitosamente.
        </p>

        <!-- Reservation Details Card -->
        <div class="reservation-card">
            <h3 style="margin-top: 0; color: #004ba0; display: flex; align-items: center;">
                <span style="margin-right: 10px;">üìÖ</span>
                Detalles de su Reserva
            </h3>

            <div class="detail-row">
                <span class="detail-label">üèüÔ∏è Espacio:</span>
                <span class="detail-value"><strong>[[${espacio}]]</strong></span>
            </div>

            <div class="detail-row">
                <span class="detail-label">üìÖ Fecha y Hora:</span>
                <span class="detail-value"><strong>[[${fecha}]]</strong></span>
            </div>

            <div class="detail-row" th:if="${costo != null}">
                <span class="detail-label">üí∞ Costo Total:</span>
                <span class="detail-value"><strong>S/ [[${costo}]]</strong></span>
            </div>

            <div class="detail-row" th:if="${tipoPago != null}">
                <span class="detail-label">üí≥ Tipo de Pago:</span>
                <span class="detail-value"><strong>[[${tipoPago}]]</strong></span>
            </div>

            <div class="detail-row" th:if="${numeroReserva != null}">
                <span class="detail-label">üî¢ N¬∞ Reserva:</span>
                <span class="detail-value"><strong>#[[${numeroReserva}]]</strong></span>
            </div>
        </div>

        <!-- Payment Section - Solo para pago en banco -->
        <div class="payment-section" th:if="${mostrarDatosPago}">
            <div class="payment-title">
                <svg class="payment-icon" fill="#1976d2" viewBox="0 0 24 24">
                    <path d="M11,15H17V17H11V15M9,7H21V9H9V7M11,11H17V13H11V11M13,1L11,3H7.5A2.5,2.5 0 0,0 5,5.5V18.5A2.5,2.5 0 0,0 7.5,21H18.5A2.5,2.5 0 0,0 21,18.5V8L13,1M13,2.5L19.5,8H13V2.5Z"/>
                </svg>
                Datos para realizar su pago
            </div>

            <p style="margin-bottom: 15px; color: #555;">
                Realice su dep√≥sito en la cuenta oficial de la Municipalidad:
            </p>

            <div class="account-info">
                <div class="account-row">
                    <span>Titular:</span>
                    <span><strong>Municipalidad Distrital de San Miguel</strong></span>
                </div>
                <div class="account-row">
                    <span>Banco:</span>
                    <span><strong>Banco de la Naci√≥n</strong></span>
                </div>
                <div class="account-row">
                    <span>N¬∞ de Cuenta:</span>
                    <span><strong>00-175-054321</strong></span>
                </div>
                <div class="account-row">
                    <span>CCI:</span>
                    <span><strong>018-175-000175054321-45</strong></span>
                </div>
            </div>

            <div class="important-note">
                <div class="important-note-title">‚ö†Ô∏è Importante:</div>
                <ul style="margin: 5px 0; padding-left: 20px;">
                    <li>Debe subir su comprobante de pago para confirmar su reserva</li>
                    <li>Su reserva ser√° confirmada una vez validemos su pago</li>
                    <li>Tiene hasta 24 horas antes de la fecha para completar el pago</li>
                </ul>
            </div>

            <div style="text-align: center;">
                <a th:href="${linkBoleta}" class="btn-primary"
                   style="color: white; text-decoration: none;">
                    üì§ Subir Comprobante de Pago
                </a>
            </div>
        </div>

        <!-- Status Information -->
        <div th:if="${reembolso != null}" style="margin: 20px 0;">
            <p><strong>Estado del reembolso:</strong>
                <span class="status-badge"
                      th:classappend="${reembolso == 'Aprobado'} ? 'status-confirmed' : (${reembolso == 'Rechazado'} ? 'status-cancelled' : 'status-pending')">
                       [[${reembolso}]]
                   </span>
            </p>
        </div>

        <!-- Additional Information -->
        <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 20px;">
            <h4 style="color: #004ba0; margin-top: 0;">üìã Informaci√≥n Adicional</h4>
            <ul style="color: #555; line-height: 1.6;">
                <li>Llegue 10 minutos antes de su hora reservada</li>
                <li>Presente un documento de identidad v√°lido</li>
                <li>Revise nuestras <a href="#" style="color: #004ba0;">pol√≠ticas de uso</a></li>
                <li>Para cancelaciones, contacte con 48 horas de anticipaci√≥n</li>
            </ul>
        </div>

        <p style="margin-top: 30px; color: #666; font-size: 14px;">
            Si tiene alguna consulta, no dude en contactarnos a trav√©s de nuestros canales oficiales.
        </p>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p style="margin: 0 0 10px 0;"><strong>Municipalidad de San Miguel</strong></p>
        <p style="margin: 5px 0;">üìß serviciosdeportivos@sanmiguel.gob.pe | üìû (01) 567-8900</p>
        <p style="margin: 5px 0;">üìç Av. La Marina 2355, San Miguel, Lima</p>

        <p style="font-size: 12px; color: #999; margin-top: 15px;">
            Este es un mensaje autom√°tico, por favor no responda a este correo.
        </p>
    </div>
</div>
</body>
</html>